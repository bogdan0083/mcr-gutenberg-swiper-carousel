!function(e){function t(l){if(n[l])return n[l].exports;var r=n[l]={i:l,l:!1,exports:{}};return e[l].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,l){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(2),a=(n.n(r),n(3)),i=(n.n(a),wp.element),m=(i.Component,i.Fragment),c=wp.i18n.__,u=wp.blocks,o=u.registerBlockType,s=(u.RichText,wp.editor),p=s.MediaUpload,d=s.MediaPlaceholder,w=s.MediaUploadCheck,g=s.InspectorControls,f=wp.components,b=f.Button,v=f.PanelBody,E=f.PanelRow;o("cgb/block-mcr-image-carousel",{title:c("MCR Image Carousel"),icon:"images-alt2",category:"common",keywords:[c("mcr-image-carousel"),c("Image Carousel")],attributes:{images:{type:"array",default:[]},loop:{type:"string",default:"true"},speed:{type:"string",default:"500"}},edit:function(e){function t(t){var n=t.target.querySelector("#mcr-carousel-loop-setting option:checked");e.setAttributes({loop:n.value}),t.preventDefault()}function n(t){var n=t.target.querySelector("#mcr-carousel-speed-setting");e.setAttributes({speed:n.value}),t.preventDefault()}function r(t,n){var l=n.filter(function(e){return e.id!=t.id}),r=l.map(function(e,n){if(e.id!=t.id)return{id:n,imgid:e.imgid,url:e.url,thumbnailUrl:e.thumbnailUrl,alt:e.alt,caption:e.caption}});e.setAttributes({images:r})}function a(t,n,l){var r={id:l,imgid:t.id,url:t.sizes.full.url,thumbnailUrl:t.sizes.thumbnail.url,alt:t.alt,caption:t.caption};n.splice(l+1,0,r);var a=n.map(function(e,t){return{id:t,imgid:e.id,url:e.url,thumbnailUrl:e.thumbnailUrl,alt:e.alt,caption:e.caption}});e.setAttributes({images:a})}var i=e.attributes,u=i.images,o=i.loop,s=i.speed,f=function(t,n,l){var r=n.map(function(e){return e.id===l?{id:l,imgid:t.id,url:t.sizes.full.url,thumbnailUrl:t.sizes.thumbnail.url,alt:t.alt,caption:t.caption}:e});e.setAttributes({images:r})},y=function(t){var n=t.map(function(e,t){return{id:t,imgid:e.id,url:e.sizes.full.url,thumbnailUrl:e.sizes.thumbnail.url,alt:e.alt,caption:e.caption}});e.setAttributes({images:n})};return u.length>0?[wp.element.createElement(g,null,wp.element.createElement(v,{title:c("Carousel Settings")},wp.element.createElement(E,null,wp.element.createElement("label",null,"Speed"),wp.element.createElement("form",{onSubmit:n},wp.element.createElement("input",{type:"text",id:"mcr-carousel-speed-setting",value:s}))),wp.element.createElement(E,null,wp.element.createElement("label",null,"Loop"),wp.element.createElement("form",{onSubmit:t},wp.element.createElement("select",{id:"mcr-carousel-loop-setting",value:o,onChange:t},wp.element.createElement("option",{value:"true"},"True"),wp.element.createElement("option",{value:"false"},"False")))))),wp.element.createElement(m,null,u.map(function(e,t){var n,i;return[wp.element.createElement("div",{class:"media-row mcr-media-row"},wp.element.createElement(w,null,wp.element.createElement(p,(n={onSelect:function(e){return f(e,u,t)},type:"image",value:e.imgid,accept:"image/*"},l(n,"type","image"),l(n,"className",""),l(n,"render",function(t){var n=t.open;return wp.element.createElement(b,{className:"image-button",onClick:n},wp.element.createElement("img",{src:e.url}))}),n)),wp.element.createElement("div",{className:"mcr-media-row--delete-button"},wp.element.createElement(b,{className:"button button-large",onClick:function(){r(e,u)}},"X")),wp.element.createElement("div",{className:"mcr-media-row--add-button"},wp.element.createElement(p,(i={onSelect:function(e){return a(e,u,t)},type:"image",accept:"image/*"},l(i,"type","image"),l(i,"render",function(e){var t=e.open;return wp.element.createElement(b,{className:"button button-large",onClick:t},"Add Image")}),i)))))]}))]:wp.element.createElement(m,null,wp.element.createElement("div",{className:e.className},wp.element.createElement(d,{icon:"format-gallery",className:e.className,labels:{title:c("Carousel"),name:c("images")},onSelect:y,accept:"image/*",type:"image",multiple:!0})))},save:function(e){var t=e.attributes,n=t.images,l=t.loop,r=t.speed;return wp.element.createElement("div",{className:"swiper-container mcr-swiper-container js-mcr-swiper-container","data-mcr-carousel-loop":l,"data-mcr-carousel-speed":r},wp.element.createElement("div",{className:"swiper-wrapper mcr-swiper-wrapper"},n.map(function(e,t){return wp.element.createElement("div",{className:"swiper-slide mcr-swiper-slide"},wp.element.createElement("img",{src:e.url,alt:e.alt}))})),wp.element.createElement("div",{className:"swiper-pagination js-mcr-swiper-pagination"}),wp.element.createElement("div",{className:"js-mcr-swiper-button-prev swiper-button-prev mcr-swiper-button-prev"}),wp.element.createElement("div",{className:"js-mcr-swiper-button-next swiper-button-next mcr-swiper-button-next"}))}})},function(e,t){},function(e,t){}]);